"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e);!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('html,\nbody {\n  padding: 0;\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,\n    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n}\n\na {\n  color: inherit;\n  text-decoration: none;\n}\n\n* {\n  box-sizing: border-box;\n}\n.attributeLabel {\n  width: 100%;\n  height: 38px;\n  padding: 5px;\n  display: grid;\n  grid-template-columns: auto;\n  background: black;\n  margin: auto;\n  color: white;\n  border-radius: 5px;\n}\n\n.attributeInput {\n  width: 95%;\n  margin: auto;\n  height: 50px;\n  user-select: auto;\n  border-radius: 5px;\n  /* box-shadow: 1px 1px 1px 1px #000; */\n}\n\n.inputContainer2Wide {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 5px;\n}\n\n.inputContainer3Wide {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr auto;\n}\n\n/* SwitchInput */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 34px;\n\n  margin: auto;\n}\n\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.switchspan {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\n.switchspan:before {\n  position: absolute;\n  content: "";\n  height: 26px;\n  width: 26px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\n.round {\n  border-radius: 34px;\n}\n\n.round:before {\n  border-radius: 50%;\n}\n\ninput:checked + .switchspan {\n  background-color: #2196f3;\n}\n\ninput:focus + .switchspan {\n  box-shadow: 0 0 1px #2196f3;\n}\n\ninput:checked + .switchspan:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(26px);\n}\n\n/* SliderInput */\n.sliderInput {\n  grid-column: 1/3;\n\n  -webkit-appearance: none; /* Hides the slider so that custom slider can be made */\n  width: 95%; /* Specific width is required for Firefox. */\n  background: transparent; /* Otherwise white in Chrome */\n  margin: auto;\n  /* margin-bottom: 10px; */\n  cursor: pointer;\n\n  /* background: white; */\n\n  background: rgba(0, 0, 0, 0.7);\n\n  /* background: linear-gradient(to right, blue 0%, red 100%); */\n  border-radius: 10px;\n  height: 50px;\n}\n\n.sliderInput:focus {\n  outline: none;\n}\n\n.sliderInput::-ms-track {\n  width: 95%;\n  cursor: pointer;\n  background: transparent;\n  border-color: transparent;\n  color: transparent;\n}\n\n.sliderInput::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  background: limegreen;\n  height: 60px;\n  cursor: pointer;\n  color: #ffffff;\n  width: 20px;\n  border-radius: 3px;\n  box-sizing: border-box;\n  touch-action: auto;\n  user-select: auto;\n}\n');var r=function(e){var t=e.label,r=e.value,a=e.onChange,i=e.onToggle,l=e.toggleValue,o=e.id,u=e.toggleId;return n.default.createElement("div",{className:"inputContainer3Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},t||o)),n.default.createElement("label",{className:"switch"},n.default.createElement("input",{type:"checkbox",checked:l,onChange:i,id:u}),n.default.createElement("span",{className:"switchspan round"})),n.default.createElement("input",{id:o,disabled:!l,type:"color",value:r,onChange:a,className:"attributeInput"}))},a=function(t){var r=t.id,a=t.label,i=t.value,l=t.onChange,o=t.min,u=t.max,s=t.step;return e.useRef(i),n.default.createElement("div",{className:"inputContainer2Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},a||r)),n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},i)),n.default.createElement("input",{id:r,className:"sliderInput",type:"range",min:o||0,max:u||100,step:s||1,value:i||0,onChange:l}))},i=function(e){var t=e.id,r=e.label,a=e.value,i=e.items,l=e.onChange;return n.default.createElement("div",{className:"inputContainer2Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},r||t)),n.default.createElement("select",{id:t,value:a,onChange:l,className:"attributeInput"},i.map((function(e){return n.default.createElement("option",{value:e,key:e},e)}))))},l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}var u,s=function(e){var t=e.round,r=void 0===t||t,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["round"]),i=a.id,l=a.label,o=a.value,u=a.onChange;return n.default.createElement("div",{className:"inputContainer2Wide"},l?n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},l||i)):null,n.default.createElement("label",{className:"switch"},n.default.createElement("input",{type:"checkbox",checked:o,onChange:u,id:i}),n.default.createElement("span",{className:"switchspan ".concat(r?"round":"")})))},c=function(e){var t=e.id,r=e.label,a=e.value,i=e.onChange;return n.default.createElement("div",{className:"inputContainer2Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},r)),n.default.createElement("input",{id:t,type:"text",value:a,onChange:i,className:"attributeInput"}))},d=function(e){var t=e.focalPoint,n=e.x,r=e.y,a=e.width,i=e.height,l=e.movementFactor,o=e.outerSize,u=e.sensitivity,s=o*l,c=(t.x-n)/a*u*s,d=(t.y-r)/i*u*s;return{x:c>s?s:c<-s?-s:c,y:d>s?s:d<-s?-s:d}},f=function(e){var t=e.ratio,n=e.sum;return[t*n/(t+1),n/(t+1)]},h=function(e){return e&&"current"in e?e.current:e},p=function(e){return e&&e.current?e.current.getStage():null},g=!("undefined"!=typeof window&&(null===(u=window.document)||void 0===u?void 0:u.createElement)),m=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].length;return t},b=function(e){for(var t=e.split(" "),n=[],r=0;r<t.length;r++){var a=t[r];a.length>0&&n.push(a)}return n},x=function(e){var t=e.parameters,n=e.size,r=e.canvasRef;if(!r||null===r.current)return null;var a=n.width,i=n.height;if(!a||!i)return null;var l=t.fontSize,o=t.maxHeight,u=t.maxWidth,s=t.text,c=t.fontFamily,d=t.fontStyle,f=r.current.getContext(),h=l+(o-l)/2,p=d?d+" "+h+"px "+c:h+"px "+c;f.font=p;var g=f.measureText(s),m=g.width;return o-l<1&&m<u?(t.fontSize=Math.floor(l-.5),t.textmetrics=g,t):m>=u?(t.maxHeight=h,x({parameters:t,size:n,canvasRef:r})):m<u?(t.fontSize=h,x({parameters:t,size:n,canvasRef:r})):void 0},y=function(e){var t=e.parameters,n=e.size,r=e.canvasRef;if(t.strokeWidthFactor,!r||null===r.current)return null;for(var a=t.textContent,i=t.maxHeight,o=n.width,u=n.height,s=b(a),c=t.minrows||1,d=t.maxrows||s.length,f=null,h=0,p=function(e){var s=function(e,t){for(var n=b(e),r=m(e)/t,a=[],i=[],l=[],o=0;o<n.length;o++){var u=n.slice(o),s=u[0],c=!1;if(u.length>=2){c=u[1],i.push(s),l=i.concat(c);var d=m(i),f=m(l);(d>r||f>r&&r-d<f-r)&&(a.push(i),i=[])}else i.push(s),a.push(i)}return a}(a,e),c=s.map((function(a){var o=a.join(" ");return x({parameters:l(l({},t),{maxHeight:i/e,text:o}),size:n,canvasRef:r})})),d=Math.min.apply(Math,c.map((function(e){if(e)return e.fontSize})));if(d>h){var p=(h=d)*c.length,g=(u-p)/2;f=c.map((function(e,t){return l(l({},e),{fontSize:d,minFontSize:d,maxFontSize:e.fontSize,width:o,y:g+t*h})}))}},g=c;g<=d;g++)p(g);return f},v=function(e){var t=e.box,n=e.content,r=e.canvasRef;if(!r||null===r.current)return null;var a=t.width,i=t.height,o=n.text;n.fontFamily;var u=n.fontStyle;return n.verticalAlign,y({parameters:l(l({},n),{fontSize:0,text:o||"",maxHeight:i||0,maxWidth:a||0,fontStyle:u}),size:t,canvasRef:r})},k=function(t){var n=t.type,r=t.listener,a=t.element,i=void 0===a?g?void 0:window:a,l=t.options,o=e.useRef();e.useEffect((function(){o.current=r}),[r]);var u=e.useCallback((function(e){var t;null===(t=o.current)||void 0===t||t.call(o,e)}),[]);e.useEffect((function(){var e=h(i);return null==e||e.addEventListener(n,u,l),function(){return null==e?void 0:e.removeEventListener(n,u)}}),[n,i,l,u])},S=function(){var t=e.useState({width:0,height:0,windowReady:!1}),n=t[0],r=t[1],a=function(){r({width:window.innerWidth,height:window.innerHeight,windowReady:!g})};return k({type:"resize",listener:a}),e.useEffect((function(){a()}),[]),n},E=require("react-konva"),w=E.Stage,C=E.Layer,I=function(e){return n.default.createElement(w,{width:e.width,height:e.height},n.default.createElement(C,{ref:e.canvasRef},e.children))},_=require("@react-spring/konva"),D=_.animated,F=_.useSpring;require("react-konva").Rect;var R=function(e){var t=e.handleClick,r=e.draggable,a=e.x,i=e.y,o=e.width,u=e.height,s=e.fill,c=e.stroke,d=e.strokeWidth,f=e.rotation,h=e.offsetX,p=e.offsetY,g=e.fillEnabled,m=e.strokeEnabled,b=F({x:a,y:i,width:o,height:u,fill:s,stroke:c,strokeWidth:d,rotation:f,offsetX:h,offsetY:p}),x=F({x:a,y:i,immediate:e.immediateXY||!1});return n.default.createElement(D.Rect,l({contentID:e.contentID,id:e.contentID,box:e.box},b,x,{fillEnabled:g,strokeEnabled:m,draggable:r,onClick:t,onDragStart:e.handleDrag,onDragEnd:e.handleDrag,listening:e.listening}))},T=require("@react-spring/konva"),W=T.animated,O=T.useSpring;require("react-konva").Circle;var z=function(e){var t=e.x,r=e.y,a=e.radius,i=e.fill,o=e.stroke,u=e.fillEnabled,s=e.strokeEnabled,c=e.strokeWidth,d=O({radius:a,fill:i,stroke:o,strokeWidth:c}),f=O({x:t,y:r,immediate:e.immediateXY||!1});return n.default.createElement(W.Circle,l({},d,f,{contentID:e.contentID,id:e.contentID,box:e.box,draggable:e.draggable,fillEnabled:u,strokeEnabled:s,onClick:e.handleClick,onDragStart:e.handleDrag,onDragEnd:e.handleDrag,listening:e.listening}))},X=require("@react-spring/konva"),Y=X.animated,N=X.useSpring,B=require("react-konva").Group,A=function(e){var t=e.x,r=e.y;e.width,e.height;var a=e.outerSize,i=e.outerShape,o=e.outerFill,u=e.outerStroke,s=e.outerRotation,c=e.innerSize,d=e.innerShape,h=e.innerFill,p=e.innerStroke,g=e.innerRotation,m=e.disableClip,b=e.w2h,x=e.innerXY,y=e.innerFillEnabled,v=e.innerStrokeEnabled,k=e.outerFillEnabled,S=e.outerStrokeEnabled,E=e.innerStrokeWidth,w=e.outerStrokeWidth,C=e.draggable,I=f({ratio:b||1,sum:2}),_={offsetX:0,offsetY:0,clipFunc:m?null:"Circle"===i?function(e){return e.arc(0,0,a,0,2*Math.PI)}:"Rect"===i?function(e){return e.rect(-a,-a,2*a,2*a)}:null,id:e.contentID,box:e.box},D=N({scaleX:I[0],scaleY:I[1],rotation:s||0,x:t,y:r,immediate:["x","y"]}),F={x:0,y:0,fill:o,fillEnabled:k,contentID:e.contentID,box:e.box},T={x:0,y:0,stroke:u,strokeEnabled:S,strokeWidth:w,contentID:e.contentID,box:e.box},W={x:x.x||0,y:x.y||0,fill:h,stroke:p,fillEnabled:y,strokeEnabled:v,strokeWidth:E,immediateXY:!1,dragable:!1,rotation:g||0,contentID:e.contentID,box:e.box},O="Circle"===i?n.default.createElement(z,l({},F,{radius:a})):"Rect"===i?n.default.createElement(R,l({},F,{width:2*a,height:2*a,offsetX:a,offsetY:a})):null,X="Circle"===i?n.default.createElement(z,l({},T,{radius:a})):"Rect"===i?n.default.createElement(R,l({},T,{width:2*a,height:2*a,offsetX:a,offsetY:a})):null,A="Circle"===d?n.default.createElement(z,l({},W,{radius:c})):"Rect"===d?n.default.createElement(R,l({},W,{width:2*c,height:2*c,offsetX:c,offsetY:c})):null;return n.default.createElement(Y.Group,l({contentID:e.contentID,id:e.contentID},D,{onDragStart:e.handleDrag,onDragEnd:e.handleDrag,onClick:e.handleClick,draggable:C,listening:!0,box:e.box}),n.default.createElement(B,l({},_),O,A),S?X:null)},L=require("@react-spring/konva"),P=L.animated,M=L.useSpring,q=require("use-image");require("react-konva").Image;var j=function(e){var t=q(e.src),r=t[0];t[1];var a=e.x,i=e.y,o=e.width,u=e.height,s=e.rotation,c=e.offsetX,d=e.offsetY,f=M({x:a,y:i,width:o,height:u,rotation:s,offsetX:c,offsetY:d,immediate:["x","y"]}),h={fill:e.fill&&e.fillEnabled?e.fill:null,stroke:e.stroke&&e.strokeEnabled?e.stroke:null,strokeWidth:e.strokeWidth&&e.strokeEnabled?e.strokeWidth:null};return n.default.createElement(P.Image,l({contentID:e.contentID,id:e.contentID,box:e.box},f,h,{onClick:null==e?void 0:e.handleClick,draggable:null==e?void 0:e.draggable,canvasRef:null==e?void 0:e.canvasRef,image:r,onDragStart:e.handleDrag,onDragEnd:e.handleDrag}))},H=require("@react-spring/konva"),G=H.animated,U=H.useSprings,V=H.useSpring,K=require("react-konva");K.Group,K.Text;var J=function(t){var r=t.x,a=t.y,i=t.width,o=t.height,u=t.offsetX,s=t.offsetY,c=t.rotation,d=t.strokeWidthFactor,f=t.fill,h=t.stroke,p=t.fontFamily,g=t.handleClick,m=t.handleDrag,b=t.contentID,x=t.box,y=t.canvasRef,k=t.fontStyle,S=t.draggable;t.immediateXY,t.listening;var E=t.fillEnabled,w=t.strokeEnabled;t.textBoxFillEnabled,t.textBoxStrokeEnabled;var C=t.textContent,I=t.align||"center",_=e.useMemo((function(){return v({box:{width:i||0,height:o||0},content:t,canvasRef:y})||[]}),[C,i,o,p,k]),D=U(_.length,(function(e){var t=_[e],n=t.fontSize,r=t.text,a=t.fontWeight;return{text:r,fontSize:n,strokeWidth:n*(d||0),y:t.y,width:t.width,height:t.height,fill:f,stroke:h,fontFamily:p,fontStyle:k||a,align:I,hitStrokeWidth:n,immediate:!0}}),[_,d,f,h,I])[0].map((function(e,t){return n.default.createElement(G.Text,l({key:"txt-"+t},e,{contentID:b,draggable:!1,fillEnabled:E,strokeEnabled:w,shadowForStrokeEnabled:!1,onClick:g}))})),F=V({x:r,y:a,width:i,height:o,offsetX:u,offsetY:s,rotation:c,immediate:["x","y","offsetX","offsetY","width","height"]});return n.default.createElement(G.Group,l({},F,{contentID:b,id:b,box:x,onClick:g,onDragStart:m,onDragEnd:m,draggable:S,listening:!0}),D)};function Q(t,n){var r=e.useRef(t);e.useEffect((function(){r.current=t}),[t]),e.useEffect((function(){if(n||0===n){var e=setInterval((function(){return r.current()}),n);return function(){return clearInterval(e)}}}),[n])}var Z=function(t){var n=t.canvasRef,r=t.delay,a=e.useState({x:0,y:0});a[0],a[1];var i=e.useState(0),l=i[0],o=i[1],u=e.useState(0),s=u[0],c=u[1];return Q((function(){var e=p(n);if(!e)return null;var t=e.getPointerPosition();return t?t.x===l&&t.y===s?null:(t.x!==l&&o(t.x),void(t.y!==s&&c(t.y))):null}),r||200),{x:l,y:s}},$=function(e){var t=e.r_outerSize,n=e.r_outer2inner,r=e.r_x,a=e.r_y,i=e.r_outerStrokeWidth,o=e.r_innerStrokeWidth,u=e.absolutes,s=u.width,c=u.height,d=r*s,f=a*c,h=t*(s+c)/2,p=h*(i||0),g=h-p/2,m=h*n,b=m*(o||0),x=m-b/2;return l(l(l({},e),u),{outerSize:g,innerSize:x,innerStrokeWidth:b,outerStrokeWidth:p,x:d,y:f,box:u})},ee=function(e){var t=e.r_x,n=e.r_y,r=e.r_width,a=e.r_height,i=e.r_strokeWidth,o=e.absolutes,u=o.width,s=o.height,c=t*u,d=n*s,f=r*u,h=a*s,p=i*Math.min(f,h)/2,g=f-p,m=h-p,b={x:c,y:d,width:g,height:m,offsetX:g/2,offsetY:m/2,strokeWidth:p,box:o};return l(l({},e),b)},te=function(e){var t=e.r_x,n=e.r_y,r=e.r_width,a=e.r_height,i=e.r_strokeWidth,o=e.absolutes,u=o.width,s=o.height,c=t*u,d=n*s,f=r*u,h=a*s,p=i*Math.min(f,h)/2,g=f-p,m=h-p,b={x:c,y:d,width:g,height:m,offsetX:g/2,offsetY:m/2,strokeWidth:p,box:o};return l(l({},e),b)},ne=function(e){var t=e.r_x,n=e.r_y,r=e.r_width,a=e.r_height,i=e.absolutes,o=i.width,u=i.height,s=r*o,c=a*u,d={x:t*o,y:n*u,width:s,height:c,offsetX:s/2,offsetY:c/2,box:i};return l(l({},e),d)},re=require("react-konva").Group,ae=function(e){var t=e.contentObject,r=e.contentIDs,a=e.box,i=e.canvasRef,o=e.handleClick,u=e.handleDrag;e.id;var s=Z({canvasRef:i}),c=a.width,f=a.height,h=Math.min(c,f),p=a.x||0,g=a.y||0,m={width:h,height:h},b={x:(c-h)/2+p,y:(f-h)/2+g},x=r.map((function(e){var r=null==e?void 0:e.split("_")[0],a=t[e];switch(r){case"eye":var c=$(l(l({},a),{absolutes:m})),f=d(l(l({},c),{focalPoint:{x:s.x-b.x,y:s.y-b.y}}));return n.default.createElement(A,l({key:e,contentID:e},c,{innerXY:f,handleDrag:u,handleClick:o}));case"rect":var h=ee(l(l({},a),{absolutes:m}));return n.default.createElement(R,l({key:e,contentID:e},h,{handleDrag:u,handleClick:o}));case"image":var p=te(l(l({},a),{absolutes:m}));return n.default.createElement(j,l({key:e,contentID:e},p,{handleDrag:u,handleClick:o}));case"text":var g=ne(l(l({},a),{absolutes:m}));return n.default.createElement(J,l({key:e,contentID:e},g,{handleDrag:u,handleClick:o,canvasRef:i}));default:return null}}));return n.default.createElement(re,l({},b),x)},ie={opacity:{inputType:"number",label:"Opacity",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},r_x:{inputType:"number",label:"X",scaleCenter:-.5,scaleFactor:100,min:-100,max:100,step:1},r_y:{inputType:"number",label:"Y",scaleCenter:-.5,scaleFactor:100,min:-100,max:100,step:1},r_width:{inputType:"number",label:"Width",scaleCenter:0,scaleFactor:100,min:0,max:200,step:1},r_height:{inputType:"number",label:"Height",scaleCenter:0,scaleFactor:100,min:0,max:200,step:1},rotation:{inputType:"number",label:"Rotation",scaleCenter:0,scaleFactor:1,min:-180,max:180,step:1},r_strokeWidth:{inputType:"number",label:"StrokeWidth",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},r_outerSize:{inputType:"number",label:"Eye Size",scaleCenter:0,scaleFactor:200,min:0,max:100,step:1},r_outer2inner:{inputType:"number",label:"Inner Size",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},w2h:{inputType:"number",label:"W2H",scaleCenter:0,scaleFactor:100,min:40,max:160,step:1},r_innerStrokeWidth:{inputType:"number",label:"Inner StrokeWidth",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},r_outerStrokeWidth:{inputType:"number",label:"Outer StrokeWidth",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},innerRotation:{inputType:"number",label:"Inner Rotation",scaleCenter:0,scaleFactor:1,min:-180,max:180,step:1},outerRotation:{inputType:"number",label:"Outer Rotation",scaleCenter:0,scaleFactor:1,min:-180,max:180,step:1},movementFactor:{inputType:"number",label:"Movement Range",scaleCenter:0,scaleFactor:50,min:0,max:100,step:5},sensitivity:{inputType:"number",label:"Movement Sensitivity",scaleCenter:0,scaleFactor:50,min:0,max:100,step:5},strokeWidthFactor:{inputType:"number",label:"Outer StrokeWidth",scaleCenter:0,scaleFactor:200,min:0,max:40,step:1},fill:{inputType:"colorSwitch",label:"Fill",toggleId:"fillEnabled"},stroke:{inputType:"colorSwitch",label:"Stroke",toggleId:"strokeEnabled"},innerFill:{inputType:"colorSwitch",label:"InnerFill",toggleId:"innerFillEnabled"},outerFill:{inputType:"colorSwitch",label:"OuterFill",toggleId:"outerFillEnabled"},innerStroke:{inputType:"colorSwitch",label:"InnerStroke",toggleId:"innerStrokeEnabled"},outerStroke:{inputType:"colorSwitch",label:"OuterStroke",toggleId:"outerStrokeEnabled"},draggable:{inputType:"toggle",label:"Draggable"},fillEnabled:{inputType:"toggle",label:"Draggable"},strokeEnabled:{inputType:"toggle",label:"Draggable"},innerStrokeEnabled:{inputType:"toggle",label:"InnerStrokeEnabled"},outerStrokeEnabled:{inputType:"toggle",label:"OuterStrokeEnabled"},blink:{inputType:"toggle",label:"Blink"},animate:{inputType:"toggle",label:"Animate"},innerShape:{inputType:"selection",label:"InnerShape",items:["Circle","Rect"]},outerShape:{inputType:"selection",label:"OuterShape",items:["Circle","Rect"]},fontStyle:{inputType:"selection",label:"FontStyle",items:["normal","italic","bold","italic bold"]},fontFamily:{inputType:"selection",label:"FontFamily",items:["Open Sans","Roboto Condensed","Roboto Mono","Roboto","Ubuntu","Rubik","Bebas Neue","Lobster","Lobster Two","Comfortaa","Staatliches","Balsamiq Sans","Alfa Slab One","Righteous","Fredoka One","Concert One","Luckiest Guy","Poiret One","Sigmar One","Arima Madurai","Bangers","Playball","Monoton","Black Ops One","Audiowide","Gruppo","Bubblegum Sans","Chewy","Fredericka the Great","Cabin Sketch","Bungee Inline","Creepster","Love Ya Like A Sister","Wallpoet","Bungee Shade","Megrim","Unkempt","Codystar","Kranky","New Rocker","Sarina","Modak","Barrio","Tourney","Kavoon"]},align:{inputType:"selection",label:"Align",items:["left","center","right"]},verticalAlign:{inputType:"selection",label:"Vertical Align",items:["top","middle","bottom"]},src:{inputType:"text",label:"Image Url"},textContent:{inputType:"text",label:"Text Content"}},le=["fill","stroke"],oe=["r_x","r_y","r_width","r_height","rotation"],ue=["draggable"],se={eye:["r_x","r_y","w2h","r_outerSize","r_outer2inner","r_innerStrokeWidth","r_outerStrokeWidth","innerRotation","outerRotation","sensitivity","movementFactor"],image:o(o([],oe,!0),["r_strokeWidth"],!1),rect:o(o([],oe,!0),["r_cornerRadius","r_strokeWidth"],!1),text:o(o([],oe,!0),["strokeWidthFactor"],!1)},ce={eye:["innerFill","innerStroke","outerFill","outerStroke"],image:le,rect:le,text:le},de={eye:ue,image:ue,rect:ue,text:ue},fe={eye:["innerShape","outerShape"],image:[],rect:[],text:["fontStyle","fontFamily","align"]},he={eye:[],image:["src"],rect:[],text:["textContent"]},pe=function(t){var u=t.selectedID,d=t.contentObject,f=t.setContentObject,h=t.updateChangeLog,p=e.useState(!0),g=p[0],m=p[1];if(""===u)return null;var b=u.split("_")[0],x=d[u],y=function(e){var t,n,r=e.target.id,a=e.target.value;h(r,a),f(l(l({},d),((t={})[u]=l(l({},x),((n={})[r]=a,n)),t)))},v=function(e){var t,n,r=e.target.id,a=e.target.checked;h(r,a),f(l(l({},d),((t={})[u]=l(l({},x),((n={})[r]=a,n)),t)))},k=o(o(o(o(o([],se[b],!0),ce[b],!0),de[b],!0),fe[b],!0),he[b],!0).map((function(e,t){var o=ie[e];if(!o)return null;var p=o.inputType,g=o.label,m=x[e];switch(p){case"number":var b=o.scaleCenter,k=o.scaleFactor,S=o.min,E=o.max,w=o.step;return n.default.createElement(a,{id:e,key:u+"-"+e,label:g,value:Math.round((m+b)*(k||1)),onChange:function(t){var n=t.target.value;!function(e,t){var n,r;h(e,t),f(l(l({},d),((n={})[u]=l(l({},x),((r={})[e]=Number(t),r)),n)))}(e,n/(k||1)-(b||0))},min:S,max:E,step:w});case"selection":var C=o.items;return n.default.createElement(i,{label:g,id:e,key:u+"-"+e,value:m,items:C||[],onChange:y});case"colorSwitch":var I=o.toggleId,_=x[I||""];return n.default.createElement(r,{id:e,key:u+"-"+e,label:g,toggleId:I||"",value:m,toggleValue:_,onChange:y,onToggle:v});case"text":return n.default.createElement(c,{label:g,id:e,key:u+"-"+e,value:m,onChange:y});case"toggle":return n.default.createElement(s,{id:e,key:u+"-"+e,label:g,value:m,onChange:v});default:return null}}));return n.default.createElement(n.default.Fragment,null,g?n.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",width:500,padding:10,maxHeight:"100vh",overflow:"auto",gridGap:10}},k):null,n.default.createElement("button",{style:{position:"fixed",top:0,right:0},onClick:function(){return m(!g)}},"Toggle"))};require("konva").showWarnings=!1;var ge={innerXY:{x:0,y:0},innerRotation:0,outerRotation:0,w2h:1,sensitivity:1,movementFactor:1,innerShape:"Circle",outerShape:"Circle",innerFill:"#000000",outerFill:"#ffffff",innerStroke:"#000000",outerStroke:"#ffffff",disableClip:!1,innerStrokeEnabled:!0,innerFillEnabled:!0,outerStrokeEnabled:!0,outerFillEnabled:!0,r_outerSize:.05,r_outer2inner:.5,r_x:.5,r_y:.5,r_innerStrokeWidth:.1,r_outerStrokeWidth:.1},me={rotation:0,draggable:!1,cornerRadius:0,keepAspectRatio:!0,verticalAlign:"middle",horizontalAlign:"center",fillEnabled:!1,strokeEnabled:!1,fill:"#ffffff",stroke:"#000000",src:"",r_x:.5,r_y:.5,r_width:1,r_height:1,r_strokeWidth:.02},be={rotation:0,fill:"#000000",stroke:"#000000",draggable:!1,cornerRadius:0,immediateXY:!0,strokeEnabled:!0,fillEnabled:!0,r_x:.5,r_y:.5,r_width:1,r_height:1,r_strokeWidth:.01},xe={rotation:0,fill:"#000000",stroke:"#ffffff",textBoxFill:"#0000ff",textBoxStroke:"ff0000",align:"center",draggable:!1,cornerRadius:0,immediateXY:!0,strokeEnabled:!0,fillEnabled:!0,textBoxStrokeEnabled:!1,textBoxFillEnabled:!1,fontFamily:"helvetica",fontStyle:"normal",textContent:"Hello World",minLines:1,maxLines:10,strokeWidthFactor:.01,r_x:.5,r_y:.5,r_width:1,r_height:1};exports.AniamtedImage=j,exports.AnimatedCircle=z,exports.AnimatedRectangle=R,exports.AnimatedText=J,exports.Biscuit=ae,exports.BiscuitBoard=function(t){var r=t.contentIDs,a=t.contentObject,i=S(),u=i.width,s=i.height,c=e.useRef(null),d=e.useRef(null),f=e.useState(""),h=f[0],p=f[1],g=e.useState(r),m=g[0];g[1];var b=e.useState(a),x=b[0],y=b[1],v=e.useState([]),k=v[0],E=v[1];x[h];return e.useEffect((function(){}),[k.length]),n.default.createElement(n.default.Fragment,null,n.default.createElement(I,{width:u,height:s,canvasRef:c},n.default.createElement(ae,{box:{width:u,height:s},contentObject:x,contentIDs:m,canvasRef:c,handleClick:function(e){var t=e.target.attrs.contentID;p(t||"")},handleDrag:function(e){var t,n,r=e.target.attrs,a=r.contentID,i=r.x,u=r.y,s=r.box;if(p(a),d.current!=a)d.current=a;else{d.current="";var c=x[a],f=i/s.width,h=u/s.height,g=(new Date).getTime();if(g-((null===(n=k[k.length-1])||void 0===n?void 0:n.timeStamp)||0)>1e3)E(o(o([],k,!0),[{contentID:a,attr:"r_x",r_x:f,r_y:h,method:"drag",timeStamp:g}],!1));else{var m=o([],k,!0);m[m.length-1]={contentID:a,attr:"r_x",r_x:f,r_y:h,method:"drag",timeStamp:g},E(m)}y(l(l({},x),((t={})[a]=l(l({},c),{r_x:f,r_y:h}),t)))}},key:"b1",id:"b1"})),n.default.createElement("div",{style:{position:"absolute",left:0,top:0}},n.default.createElement(pe,l({},{selectedID:h,contentObject:x,setContentObject:y,updateChangeLog:function(e,t,n){var r,a;void 0===n&&(n="input");var i=(new Date).getTime(),l=k.length?k[k.length-1]:{timeStamp:0,attr:null,id:null},u=l.timeStamp,s=l.attr,c=l.id;if(i-u>1e3||e!==s||h!==c)E(o(o([],k,!0),[(r={contentID:h,attr:e},r[e]=t,r.method=n,r.timeStamp=i,r)],!1));else{var d=o([],k,!0);d[d.length-1]=((a={contentID:h,attr:e})[e]=t,a.method=n,a.timeStamp=i,a),E(d)}}}))))},exports.Board=I,exports.ColorPickerSwitch=r,exports.Eye=A,exports.NumberInput=a,exports.SelectAttribute=i,exports.TextInput=c,exports.ToggleSwitch=s,exports.applyDefaults=function(e){switch(e.contentID.split("_")[0]){case"eye":return l(l({},ge),e);case"image":return l(l({},me),e);case"rect":return l(l({},be),e);case"text":return l(l({},xe),e);default:return null}},exports.buildEyeProps=$,exports.buildImageProps=te,exports.buildRectProps=ee,exports.buildTextProps=ne,exports.eyeDefaults=ge,exports.getAbsoluteSizing=function(e){var t=e.relatives,n=e.box,r=t.r_x,a=t.r_y,i=t.r_width,l=t.r_height,o=n.width,u=n.height;n.x,n.y;var s=i*o,c=l*u;return{x:r*o,y:a*u,width:s,height:c,offsetX:s/2,offsetY:c/2}},exports.getInnerPosition=d,exports.getRatio=f,exports.getRefElement=h,exports.getStageData=p,exports.getTextLines=v,exports.imageDefaults=me,exports.isSSR=g,exports.rectDefaults=be,exports.textDefaults=xe,exports.useEventListener=k,exports.useInterval=Q,exports.useStagePositions=Z,exports.useWindowSize=S;
//# sourceMappingURL=index.js.map
