"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=t(e),n=function(e){var t=e.id,n=e.label,l=e.value,r=e.items,o=e.onChange;return a.default.createElement("div",{className:"inputContainer2Wide"},a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},n||t)),a.default.createElement("select",{id:t,value:l,onChange:o,className:"attributeInput"},r.map((function(e){return a.default.createElement("option",{value:e,key:e},e)}))))},l=function(e){var t=e.id,n=e.label,l=e.value,r=e.onChange,o=e.min,i=e.max,u=e.step;return a.default.createElement("div",{className:"inputContainer2Wide"},a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},n||t)),a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},l)),a.default.createElement("input",{id:t,className:"sliderInput",type:"range",min:o||0,max:i||100,step:u||1,value:l||0,onChange:r}))},r=function(e){var t=e.id,n=e.label,l=e.value,r=e.onChange;return a.default.createElement("div",{className:"inputContainer2Wide"},n?a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},n||t)):null,a.default.createElement("label",{className:"switch"},a.default.createElement("input",{type:"checkbox",checked:l,onChange:r,id:t}),a.default.createElement("span",{className:"switchspan round"})))},o=function(e){var t=e.id,n=e.label,l=e.value,r=e.onChange;return a.default.createElement("div",{className:"inputContainer2Wide"},a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},n)),a.default.createElement("input",{id:t,type:"text",value:l,onChange:r,className:"attributeInput"}))},i=function(e){var t=e.label,n=e.value,l=e.onChange,r=e.onToggle,o=e.toggleValue,i=e.id,u=e.toggleId;return a.default.createElement("div",{className:"inputContainer3Wide"},a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},t||i)),a.default.createElement("label",{className:"switch"},a.default.createElement("input",{type:"checkbox",checked:o,onChange:r,id:u}),a.default.createElement("span",{className:"switchspan round"})),a.default.createElement("input",{id:i,disabled:!o,type:"color",value:n,onChange:l,className:"attributeInput"}))},u=require("react-konva"),c=u.Stage,d=u.Layer,s=function(){return s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},s.apply(this,arguments)},f=require("@react-spring/konva"),g=f.animated,m=f.useSpring;require("react-konva").Rect;var b=function(e){var t=e.handleClick,n=e.draggable,l=e.x,r=e.y,o=e.width,i=e.height,u=e.fill,c=e.stroke,d=e.strokeWidth,f=e.rotation,b=e.offsetX,h=e.offsetY,p=e.fillEnabled,v=e.strokeEnabled,E=m({x:l,y:r,width:o,height:i,fill:u,stroke:c,strokeWidth:d,rotation:f,offsetX:b,offsetY:h}),k=m({x:l,y:r,immediate:e.immediateXY||!1});return a.default.createElement(g.Rect,s({},E,k,{fillEnabled:p,strokeEnabled:v,draggable:n,onClick:t,onDragStart:e.handleDrag,onDragEnd:e.handleDrag}))},h=require("@react-spring/konva"),p=h.animated,v=h.useSpring;require("react-konva").Circle;var E=function(e){var t=e.x,n=e.y,l=e.radius,r=e.fill,o=e.stroke,i=e.fillEnabled,u=e.strokeEnabled,c=e.strokeWidth,d=v({radius:l,fill:r,stroke:o,strokeWidth:c}),f=v({x:t,y:n,immediate:e.immediateXY||!1});return a.default.createElement(p.Circle,s({},d,f,{draggable:e.draggable,fillEnabled:i,strokeEnabled:u,onClick:e.handleClick,onDragStart:e.handleDrag,onDragEnd:e.handleDrag}))},k=require("@react-spring/konva"),C=k.animated,x=k.useSpring,y=require("use-image");require("react-konva").Image;var S=require("@react-spring/konva"),O=S.animated,j=S.useSpring,_=require("react-konva").Group;exports.Board=function(t){return e.useEffect((function(){console.log("using effect")}),[]),console.log(t),a.default.createElement(c,{width:t.width,height:t.height},a.default.createElement(d,{ref:t.canvasRef},t.children))},exports.ColorPicker=function(e){var t=e.label,n=e.value,l=e.onChange;return a.default.createElement("div",{className:"inputContainer2Wide"},a.default.createElement("label",{className:"attributeLabel"},a.default.createElement("span",{style:{margin:"auto"}},t)),a.default.createElement("input",{type:"color",value:n,onChange:l,className:"attributeInput"}))},exports.ColorPickerSwitch=i,exports.ColorSetters=function(e){var t=e.selectedContentID,n=e.contentObject,l=e.updateContent,r=e.attributes;if(""===t)return null;var o=n.contentObject[t],u=o.props,c=u.fill,d=u.stroke,f=u.fillEnabled,g=u.strokeEnabled,m=u.innerFill,b=u.outerFill,h=u.innerStroke,p=u.outerStroke,v=u.innerStrokeEnabled,E=u.outerStrokeEnabled,k=u.innerFillEnabled,C=u.outerFillEnabled,x=function(e){var a,r,i=e.target.id,u=e.target.value,c=o.props;l(s(s({},n),{contentObject:s(s({},n.contentObject),(a={},a[t]=s(s({},o),{props:s(s({},c),(r={},r[i]=u,r))}),a))}))},y=function(e){var a,r,i=e.target.id,u=e.target.checked,c=o.props;l(s(s({},n),{contentObject:s(s({},n.contentObject),(a={},a[t]=s(s({},o),{props:s(s({},c),(r={},r[i]=u,r))}),a))}))},S={fill:a.default.createElement(i,{id:"fill",label:"Fill",value:c,onChange:x,toggleId:"fillEnabled",toggleValue:f,onToggle:y}),stroke:a.default.createElement(i,{id:"stroke",label:"Stroke",value:d,onChange:x,toggleId:"strokeEnabled",toggleValue:g,onToggle:y}),innerFill:a.default.createElement(i,{id:"innerFill",label:"InnerFill",value:m,onChange:x,toggleId:"innerFillEnabled",toggleValue:k,onToggle:y}),innerStroke:a.default.createElement(i,{id:"innerStroke",label:"InnerStroke",value:h,onChange:x,toggleId:"innerStrokeEnabled",toggleValue:v,onToggle:y}),outerFill:a.default.createElement(i,{id:"outerFill",label:"OuterFill",value:b,onChange:x,toggleId:"outerFillEnabled",toggleValue:C,onToggle:y}),outerStroke:a.default.createElement(i,{id:"outerStroke",label:"OuterStroke",value:p,onChange:x,toggleId:"outerStrokeEnabled",toggleValue:E,onToggle:y})};return a.default.createElement(a.default.Fragment,null,r.map((function(e){return Object.keys(S).includes(e)?S[e]:null})))},exports.Eye=function(e){var t=e.x,n=e.y,l=e.width,r=e.height,o=e.outerSize,i=e.outerShape,u=e.outerFill,c=e.outerStroke,d=e.outerRotation,f=e.innerSize,g=e.innerShape,m=e.innerFill,h=e.innerStroke,p=e.innerRotation,v=e.focalPoint,k=e.disableClip,C=e.sensitivity,x=e.movementFactor,y=e.w2h;e.handleClick;var S,F,I,w,N,R=e.innerFillEnabled,W=e.innerStrokeEnabled,D=e.outerFillEnabled,M=e.outerStrokeEnabled,X=e.innerStrokeWidth,Y=e.outerStrokeWidth,q=e.draggable,T=function(e){var t=e.ratio,a=e.sum;return[t*a/(t+1),a/(t+1)]}({ratio:y||1,sum:2}),z=(S=v.x-t,F=v.y-n,{x:(w=S/l*C*(I=o*x))>I?I:w<-I?-I:w,y:(N=F/r*C*I)>I?I:N<-I?-I:N}),L={offsetX:0,offsetY:0,clipFunc:k?null:"Circle"===i?function(e){return e.arc(0,0,o,0,2*Math.PI)}:"Rect"===i?function(e){return e.rect(-o,-o,2*o,2*o)}:null},V=j({scaleX:T[0],scaleY:T[1],rotation:d||0,x:t,y:n,immediate:["x","y"]}),P={x:0,y:0,fill:u,fillEnabled:D},A={x:0,y:0,stroke:c,strokeEnabled:M,strokeWidth:Y,listening:!1},G={x:z.x||0,y:z.y||0,fill:m,stroke:h,fillEnabled:R,strokeEnabled:W,strokeWidth:X,immediateXY:!1,dragable:!1,rotation:p||0},B="Circle"===i?a.default.createElement(E,s({},P,{radius:o})):"Rect"===i?a.default.createElement(b,s({},P,{width:2*o,height:2*o,offsetX:o,offsetY:o})):null,H="Circle"===i?a.default.createElement(E,s({},A,{radius:o})):"Rect"===i?a.default.createElement(b,s({},A,{width:2*o,height:2*o,offsetX:o,offsetY:o})):null,J="Circle"===g?a.default.createElement(E,s({},G,{radius:f})):"Rect"===g?a.default.createElement(b,s({},G,{width:2*f,height:2*f,offsetX:f,offsetY:f})):null;return a.default.createElement(O.Group,s({},V,{onDragStart:e.handleDrag,onDragEnd:e.handleDrag,onClick:e.handleClick,draggable:q}),a.default.createElement(_,s({},L),B,J),M?H:null)},exports.MyCircle=E,exports.MyImage=function(e){var t=y(e.src),n=t[0];t[1];var l=e.x,r=e.y,o=e.width,i=e.height,u=e.rotation,c=e.offsetX,d=e.offsetY,f=x({x:l,y:r,width:o,height:i,rotation:u,offsetX:c,offsetY:d,immediate:["x","y"]}),g={fill:e.fill&&e.fillEnabled?e.fill:null,stroke:e.stroke&&e.strokeEnabled?e.stroke:null,strokeWidth:e.strokeWidth&&e.strokeEnabled?e.strokeWidth:null};return a.default.createElement(C.Image,s({},f,g,{onClick:null==e?void 0:e.handleClick,draggable:null==e?void 0:e.draggable,canvasRef:null==e?void 0:e.canvasRef,image:n,onDragStart:e.handleDrag,onDragEnd:e.handleDrag}))},exports.MyRect=b,exports.NumberInput=l,exports.NumberSetters=function(e){var t=e.selectedContentID,n=e.contentObject,r=e.updateContent,o=e.attributes;if(""===t)return null;var i=n.contentObject[t],u=i.relatives,c=i.props,d=c.rotation,f=c.w2h,g=c.sensitivity,m=c.movementFactor,b=c.innerRotation,h=c.outerRotation,p=u.r_x,v=u.r_y,E=u.r_width,k=u.r_height,C=u.r_outerSize,x=u.r_outer2inner,y=u.r_strokeWidth,S=function(e,a){var l,o;console.log(i,e,a),r(s(s({},n),{contentObject:s(s({},n.contentObject),(l={},l[t]=s(s({},i),{props:s(s({},c),(o={},o[a]=Number(e),o))}),l))}))},O=function(e,a){var l,o;console.log(i,e,a),r(s(s({},n),{contentObject:s(s({},n.contentObject),(l={},l[t]=s(s({},i),{relatives:s(s({},u),(o={},o[a]=e,o))}),l))}))},j={r_x:a.default.createElement(l,{id:"r_x",label:"X-Axis",value:Math.round(100*(p-.5)),onChange:function(e){var t=e.target.value;O(t/100+.5,"r_x")},min:-100,max:100,step:1}),r_y:a.default.createElement(l,{id:"r_y",label:"Y-Axis",value:Math.round(100*(v-.5)),onChange:function(e){var t=e.target.value;O(t/100+.5,"r_y")},min:-100,max:100,step:1}),r_width:a.default.createElement(l,{id:"r_width",label:"Width",value:Math.round(100*E),onChange:function(e){var t=e.target.value;O(t/100,"r_width")},min:0,max:200,step:1}),r_height:a.default.createElement(l,{id:"r_height",label:"Height",value:Math.round(100*k),onChange:function(e){var t=e.target.value;O(t/100,"r_height")},min:0,max:200,step:1}),r_strokeWidth:a.default.createElement(l,{id:"r_strokeWidth",label:"StrokeWidth",value:Math.round(100*y),onChange:function(e){var t=e.target.value;O(t/100,"r_strokeWidth")},min:0,max:100,step:1}),rotation:a.default.createElement(l,{id:"rotation",label:"Rotation",value:d,onChange:function(e){return S(Number(e.target.value),"rotation")},min:-180,max:180,step:1}),w2h:a.default.createElement(l,{id:"w2h",label:"w2h",value:f,onChange:function(e){return S(e.target.value,"w2h")},min:.5,max:2,step:.1}),sensitivity:a.default.createElement(l,{id:"sensitivity",label:"Sensitivity",value:g,onChange:function(e){return S(e.target.value,"sensitivity")},min:0,max:2,step:.25}),movementFactor:a.default.createElement(l,{id:"movementFactor",label:"Movement Range",value:m,onChange:function(e){return S(e.target.value,"movementFactor")},min:0,max:2,step:.25}),r_outerSize:a.default.createElement(l,{id:"r_outerSize",label:"Eye Size",value:Math.round(200*C),onChange:function(e){var t=e.target.value;O(t/200,"r_outerSize")},min:0,max:100,step:1}),r_outer2inner:a.default.createElement(l,{id:"r_outer2inner",label:"Inner Size",value:Math.round(100*x),onChange:function(e){var t=e.target.value;O(t/100,"r_outer2inner")},min:0,max:100,step:1}),innerRotation:a.default.createElement(l,{id:"innerRotation",label:"InnerRotation",value:b,onChange:function(e){return S(e.target.value,"innerRotation")},min:-180,max:180,step:1}),outerRotation:a.default.createElement(l,{id:"outerRotation",label:"OuterRotation",value:h,onChange:function(e){return S(e.target.value,"outerRotation")},min:-180,max:180,step:1})};return a.default.createElement(a.default.Fragment,null,o.map((function(e){return Object.keys(j).includes(e)?j[e]:null})))},exports.SelectAttribute=n,exports.SelectionSetters=function(e){var t=e.selectedContentID,l=e.contentObject,r=e.updateContent,o=e.attributes;if(""===t)return null;var i=function(e){var a,n,o=e.target.id,i=e.target.value,c=u.props;r(s(s({},l),{contentObject:s(s({},l.contentObject),(a={},a[t]=s(s({},u),{props:s(s({},c),(n={},n[o]=i,n))}),a))}))},u=l.contentObject[t],c=u.props,d=c.innerShape,f=c.outerShape,g=["Circle","Rect"],m={innerShape:a.default.createElement(n,{label:"innerShape",id:"innerShape",value:d,items:g,onChange:i}),outerShape:a.default.createElement(n,{label:"outerShape",id:"outerShape",value:f,items:g,onChange:i})};return a.default.createElement(a.default.Fragment,null,o.map((function(e){return Object.keys(m).includes(e)?m[e]:null})))},exports.TextInput=o,exports.TextSetters=function(e){var t=e.selectedContentID,n=e.contentObject,l=e.updateContent,r=e.attributes;if(""===t)return null;var i=n.contentObject[t],u=i.props.src,c={src:a.default.createElement(o,{id:"src",label:"Image url",onChange:function(e){var a,r,o=e.target.id,u=e.target.value,c=i.props;l(s(s({},n),{contentObject:s(s({},n.contentObject),(a={},a[t]=s(s({},i),{props:s(s({},c),(r={},r[o]=u,r))}),a))}))},value:u})};return a.default.createElement(a.default.Fragment,null,r.map((function(e){return Object.keys(c).includes(e)?c[e]:null})))},exports.ToggleSetters=function(e){var t=e.selectedContentID,n=e.contentObject,l=e.updateContent,o=e.attributes;if(""===t)return null;var i=function(e){var a,r,o=e.target.id,i=e.target.checked,c=u.props;l(s(s({},n),{contentObject:s(s({},n.contentObject),(a={},a[t]=s(s({},u),{props:s(s({},c),(r={},r[o]=i,r))}),a))}))},u=n.contentObject[t],c=u.props,d=c.draggable,f=c.strokeEnabled,g=c.fillEnabled,m={draggable:a.default.createElement(r,{id:"draggable",label:"draggable",value:d,onChange:i}),fillEnabled:a.default.createElement(r,{id:"fillEnabled",label:"fillEnabled",value:g,onChange:i}),strokeEnabled:a.default.createElement(r,{id:"strokeEnabled",label:"strokeEnabled",value:f,onChange:i})};return a.default.createElement(a.default.Fragment,null,o.map((function(e){return Object.keys(m).includes(e)?m[e]:null})))},exports.ToggleSwitch=r;
//# sourceMappingURL=index.js.map
