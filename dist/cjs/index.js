"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r=function(e){var t=e.label,r=e.value,a=e.onChange,i=e.onToggle,l=e.toggleValue,o=e.id,u=e.toggleId;return n.default.createElement("div",{className:"inputContainer3Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},t||o)),n.default.createElement("label",{className:"switch"},n.default.createElement("input",{type:"checkbox",checked:l,onChange:i,id:u}),n.default.createElement("span",{className:"switchspan round"})),n.default.createElement("input",{id:o,disabled:!l,type:"color",value:r,onChange:a,className:"attributeInput"}))},a=function(t){var r=t.id,a=t.label,i=t.value,l=t.onChange,o=t.min,u=t.max,s=t.step;return e.useRef(i),n.default.createElement("div",{className:"inputContainer2Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},a||r)),n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},i)),n.default.createElement("input",{id:r,className:"sliderInput",type:"range",min:o||0,max:u||100,step:s||1,value:i||0,onChange:l}))},i=function(e){var t=e.id,r=e.label,a=e.value,i=e.items,l=e.onChange;return n.default.createElement("div",{className:"inputContainer2Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},r||t)),n.default.createElement("select",{id:t,value:a,onChange:l,className:"attributeInput"},i.map((function(e){return n.default.createElement("option",{value:e,key:e},e)}))))},l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}('.attributeLabel {\n  width: 100%;\n  height: 38px;\n  padding: 5px;\n  display: grid;\n  grid-template-columns: auto;\n  background: black;\n  margin: auto;\n  color: white;\n  border-radius: 5px;\n}\n\n.attributeInput {\n  width: 95%;\n  margin: auto;\n  height: 50px;\n  user-select: auto;\n  border-radius: 5px;\n  /* box-shadow: 1px 1px 1px 1px #000; */\n}\n\n.inputContainer2Wide {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-gap: 5px;\n}\n\n.inputContainer3Wide {\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr auto;\n}\n\n/* SwitchInput */\n.switch {\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  height: 34px;\n  margin: auto;\n}\n\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n.switchspan {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\n.switchspan:before {\n  position: absolute;\n  content: "";\n  height: 26px;\n  width: 26px;\n  left: 4px;\n  bottom: 4px;\n  background-color: white;\n  -webkit-transition: 0.4s;\n  transition: 0.4s;\n}\n\n.round {\n  border-radius: 34px;\n}\n\n.round:before {\n  border-radius: 50%;\n}\n\ninput:checked + .switchspan {\n  background-color: #2196f3;\n}\n\ninput:focus + .switchspan {\n  box-shadow: 0 0 1px #2196f3;\n}\n\ninput:checked + .switchspan:before {\n  -webkit-transform: translateX(26px);\n  -ms-transform: translateX(26px);\n  transform: translateX(26px);\n}');var u,s=function(e){var t=e.round,r=void 0===t||t,a=e.color,i=void 0===a?"#2196f3":a,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["round","color"]),o=l.id,u=l.label,s=l.value,d=l.onChange,c={backgroundColor:i};return n.default.createElement("div",{className:"inputContainer2Wide"},u?n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},u||o)):null,n.default.createElement("label",{className:"switch"},n.default.createElement("input",{type:"checkbox",checked:s,onChange:d,id:o}),n.default.createElement("span",{className:"switchspan ".concat(r?"round":""),style:c})))},d=function(e){var t=e.id,r=e.label,a=e.value,i=e.onChange;return n.default.createElement("div",{className:"inputContainer2Wide"},n.default.createElement("label",{className:"attributeLabel"},n.default.createElement("span",{style:{margin:"auto"}},r)),n.default.createElement("input",{id:t,type:"text",value:a,onChange:i,className:"attributeInput"}))},c=function(e){var t=e.focalPoint,n=e.x,r=e.y,a=e.width,i=e.height,l=e.movementFactor,o=e.outerSize,u=e.sensitivity,s=o*l,d=(t.x-n)/a*u*s,c=(t.y-r)/i*u*s;return{x:d>s?s:d<-s?-s:d,y:c>s?s:c<-s?-s:c}},f=function(e){var t=e.ratio,n=e.sum;return[t*n/(t+1),n/(t+1)]},h=function(e){return e&&"current"in e?e.current:e},p=function(e){return e&&e.current?e.current.getStage():null},m=!("undefined"!=typeof window&&(null===(u=window.document)||void 0===u?void 0:u.createElement)),g=function(t){var n=t.type,r=t.listener,a=t.element,i=void 0===a?m?void 0:window:a,l=t.options,o=e.useRef();e.useEffect((function(){o.current=r}),[r]);var u=e.useCallback((function(e){var t;null===(t=o.current)||void 0===t||t.call(o,e)}),[]);e.useEffect((function(){var e=h(i);return null==e||e.addEventListener(n,u,l),function(){return null==e?void 0:e.removeEventListener(n,u)}}),[n,i,l,u])},b=function(){var t=e.useState({width:0,height:0,windowReady:!1}),n=t[0],r=t[1],a=function(){r({width:window.innerWidth,height:window.innerHeight,windowReady:!m})};return g({type:"resize",listener:a}),e.useEffect((function(){a()}),[]),n},x=require("react-konva"),y=x.Stage,v=x.Layer,k=function(e){return n.default.createElement(y,{width:e.width,height:e.height},n.default.createElement(v,{ref:e.canvasRef},e.children))},S=require("@react-spring/konva"),E=S.animated,w=S.useSpring;require("react-konva").Rect;var C=function(e){var t=e.handleClick,r=e.draggable,a=e.x,i=e.y,o=e.width,u=e.height,s=e.fill,d=e.stroke,c=e.strokeWidth,f=e.rotation,h=e.offsetX,p=e.offsetY,m=e.fillEnabled,g=e.strokeEnabled,b=w({x:a,y:i,width:o,height:u,fill:s,stroke:d,strokeWidth:c,rotation:f,offsetX:h,offsetY:p}),x=w({x:a,y:i,immediate:e.immediateXY||!1});return n.default.createElement(E.Rect,l({id:e.id,box:e.box},b,x,{fillEnabled:m,strokeEnabled:g,draggable:r,onClick:t,onDragStart:e.handleDrag,onDragEnd:e.handleDrag,listening:e.listening}))},_=require("@react-spring/konva"),F=_.animated,R=_.useSpring;require("react-konva").Circle;var T=function(e){var t=e.x,r=e.y,a=e.radius,i=e.fill,o=e.stroke,u=e.fillEnabled,s=e.strokeEnabled,d=e.strokeWidth,c=R({radius:a,fill:i,stroke:o,strokeWidth:d}),f=R({x:t,y:r,immediate:e.immediateXY||!1});return n.default.createElement(F.Circle,l({},c,f,{id:e.id,box:e.box,draggable:e.draggable,fillEnabled:u,strokeEnabled:s,onClick:e.handleClick,onDragStart:e.handleDrag,onDragEnd:e.handleDrag,listening:e.listening}))},W=require("@react-spring/konva"),D=W.animated,I=W.useSpring,O=require("react-konva").Group,z=function(e){var t=e.x,r=e.y;e.width,e.height;var a=e.outerSize,i=e.outerShape,o=e.outerFill,u=e.outerStroke,s=e.outerRotation,d=e.innerSize,c=e.innerShape,h=e.innerFill,p=e.innerStroke,m=e.innerRotation,g=e.disableClip,b=e.w2h,x=e.innerXY,y=e.innerFillEnabled,v=e.innerStrokeEnabled,k=e.outerFillEnabled,S=e.outerStrokeEnabled,E=e.innerStrokeWidth,w=e.outerStrokeWidth,_=e.draggable,F=f({ratio:b||1,sum:2}),R={offsetX:0,offsetY:0,clipFunc:g?null:"Circle"===i?function(e){return e.arc(0,0,a,0,2*Math.PI)}:"Rect"===i?function(e){return e.rect(-a,-a,2*a,2*a)}:null,id:e.id,box:e.box},W=I({scaleX:F[0],scaleY:F[1],rotation:s||0,x:t,y:r,immediate:["x","y"]}),z={x:0,y:0,fill:o,fillEnabled:k,id:e.id,box:e.box},X={x:0,y:0,stroke:u,strokeEnabled:S,strokeWidth:w,id:e.id,box:e.box},Y={x:x.x||0,y:x.y||0,fill:h,stroke:p,fillEnabled:y,strokeEnabled:v,strokeWidth:E,immediateXY:!1,dragable:!1,rotation:m||0,id:e.id,box:e.box},N="Circle"===i?n.default.createElement(T,l({},z,{radius:a})):"Rect"===i?n.default.createElement(C,l({},z,{width:2*a,height:2*a,offsetX:a,offsetY:a})):null,A="Circle"===i?n.default.createElement(T,l({},X,{radius:a})):"Rect"===i?n.default.createElement(C,l({},X,{width:2*a,height:2*a,offsetX:a,offsetY:a})):null,B="Circle"===c?n.default.createElement(T,l({},Y,{radius:d})):"Rect"===c?n.default.createElement(C,l({},Y,{width:2*d,height:2*d,offsetX:d,offsetY:d})):null;return n.default.createElement(D.Group,l({id:e.id},W,{onDragStart:e.handleDrag,onDragEnd:e.handleDrag,onClick:e.handleClick,draggable:_,listening:!0,box:e.box}),n.default.createElement(O,l({},R),N,B),S?A:null)},X=require("@react-spring/konva"),Y=X.animated,N=X.useSpring,A=require("use-image");require("react-konva").Image;var B=function(e){var t=A(e.src),r=t[0];t[1];var a=e.x,i=e.y,o=e.width,u=e.height,s=e.rotation,d=e.offsetX,c=e.offsetY,f=N({x:a,y:i,width:o,height:u,rotation:s,offsetX:d,offsetY:c,immediate:["x","y"]}),h={fill:e.fill&&e.fillEnabled?e.fill:null,stroke:e.stroke&&e.strokeEnabled?e.stroke:null,strokeWidth:e.strokeWidth&&e.strokeEnabled?e.strokeWidth:null};return n.default.createElement(Y.Image,l({id:e.id,box:e.box},f,h,{onClick:null==e?void 0:e.handleClick,draggable:null==e?void 0:e.draggable,canvasRef:null==e?void 0:e.canvasRef,image:r,onDragStart:e.handleDrag,onDragEnd:e.handleDrag}))},L=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].length;return t},P=function(e){for(var t=e.split(" "),n=[],r=0;r<t.length;r++){var a=t[r];a.length>0&&n.push(a)}return n},M=function(e){var t=e.parameters,n=e.size,r=e.canvasRef;if(!r||null===r.current)return null;var a=n.width,i=n.height;if(!a||!i)return null;var l=t.fontSize,o=t.maxHeight,u=t.maxWidth,s=t.textContent,d=t.fontFamily,c=t.fontStyle,f=r.current.getContext(),h=l+(o-l)/2,p=c?c+" "+h+"px "+d:h+"px "+d;f.font=p;var m=f.measureText(s),g=m.width;return o-l<1&&g<u?(t.fontSize=Math.floor(l-.5),t.textmetrics=m,t):g>=u?(t.maxHeight=h,M({parameters:t,size:n,canvasRef:r})):g<u?(t.fontSize=h,M({parameters:t,size:n,canvasRef:r})):void 0},j=function(e){var t=e.parameters,n=e.size,r=e.canvasRef;if(t.strokeWidthFactor,!r||null===r.current)return null;for(var a=t.textContent,i=t.maxHeight,o=n.width,u=n.height,s=P(a),d=t.minrows||1,c=t.maxrows||s.length,f=null,h=0,p=function(e){var s=function(e,t){for(var n=P(e),r=L(e)/t,a=[],i=[],l=[],o=0;o<n.length;o++){var u=n.slice(o),s=u[0],d=!1;if(u.length>=2){d=u[1],i.push(s),l=i.concat(d);var c=L(i),f=L(l);(c>r||f>r&&r-c<f-r)&&(a.push(i),i=[])}else i.push(s),a.push(i)}return a}(a,e),d=s.map((function(a){var o=a.join(" ");return M({parameters:l(l({},t),{maxHeight:i/e,text:o}),size:n,canvasRef:r})})),c=Math.min.apply(Math,d.map((function(e){if(e)return e.fontSize})));if(c>h){var p=(h=c)*d.length,m=(u-p)/2;f=d.map((function(e,t){return l(l({},e),{fontSize:c,minFontSize:c,maxFontSize:e.fontSize,width:o,y:m+t*h})}))}},m=d;m<=c;m++)p(m);return f},q=require("@react-spring/konva"),H=q.animated,G=q.useSprings,U=q.useSpring,V=require("react-konva");V.Group,V.Text;var K=function(t){var r=t.x,a=t.y,i=t.width,o=t.height,u=t.offsetX,s=t.offsetY,d=t.rotation,c=t.strokeWidthFactor,f=t.fill,h=t.stroke,p=t.fontFamily,m=t.handleClick,g=t.handleDrag,b=t.id,x=t.box,y=t.canvasRef,v=t.fontStyle,k=t.draggable;t.immediateXY,t.listening;var S=t.fillEnabled,E=t.strokeEnabled;t.textBoxFillEnabled,t.textBoxStrokeEnabled;var w=t.textContent,C=t.align||"center",_=e.useMemo((function(){var e=function(e){var t=e.box,n=e.content,r=e.canvasRef;if(!r||null===r.current)return null;var a=t.width,i=t.height,o=n.textContent;n.fontFamily;var u=n.fontStyle;return n.verticalAlign,j({parameters:l(l({},n),{fontSize:0,text:o||"",maxHeight:i||0,maxWidth:a||0,fontStyle:u}),size:t,canvasRef:r})}({box:{width:i||0,height:o||0},content:t,canvasRef:y});return console.log(e),e||[]}),[w,i,o,p,v]),F=G(_.length,(function(e){var t=_[e],n=t.fontSize;return{text:t.text,fontSize:n,strokeWidth:n*(c||0),y:t.y,width:t.width,fill:f,stroke:h,fontFamily:p,fontStyle:v,align:C,hitStrokeWidth:n,immediate:!0}}),[_,c,f,h,C])[0].map((function(e,t){return n.default.createElement(H.Text,l({key:"txt-"+t},e,{id:b,draggable:!1,fillEnabled:S,strokeEnabled:E,shadowForStrokeEnabled:!1,onClick:m}))})),R=U({x:r,y:a,width:i,height:o,offsetX:u,offsetY:s,rotation:d,immediate:["x","y","offsetX","offsetY","width","height"]});return n.default.createElement(H.Group,l({},R,{id:b,box:x,onClick:m,onDragStart:g,onDragEnd:g,draggable:k,listening:!0}),F)};function J(t,n){var r=e.useRef(t);e.useEffect((function(){r.current=t}),[t]),e.useEffect((function(){if(n||0===n){var e=setInterval((function(){return r.current()}),n);return function(){return clearInterval(e)}}}),[n])}var Q=function(t){var n=t.canvasRef,r=t.delay,a=e.useState({x:0,y:0});a[0],a[1];var i=e.useState(0),l=i[0],o=i[1],u=e.useState(0),s=u[0],d=u[1];return J((function(){var e=p(n);if(!e)return null;var t=e.getPointerPosition();return t?t.x===l&&t.y===s?null:(t.x!==l&&o(t.x),void(t.y!==s&&d(t.y))):null}),r||200),{x:l,y:s}},Z=function(e){var t=e.r_outerSize,n=e.r_outer2inner,r=e.r_x,a=e.r_y,i=e.r_outerStrokeWidth,o=e.r_innerStrokeWidth,u=e.absolutes,s=u.width,d=u.height,c=r*s,f=a*d,h=t*(s+d)/2,p=h*(i||0),m=h-p/2,g=h*n,b=g*(o||0),x=g-b/2;return l(l(l({},e),u),{outerSize:m,innerSize:x,innerStrokeWidth:b,outerStrokeWidth:p,x:c,y:f,box:u})},$=function(e){var t=e.r_x,n=e.r_y,r=e.r_width,a=e.r_height,i=e.r_strokeWidth,o=e.absolutes,u=o.width,s=o.height,d=t*u,c=n*s,f=r*u,h=a*s,p=i*Math.min(f,h)/2,m=f-p,g=h-p,b={x:d,y:c,width:m,height:g,offsetX:m/2,offsetY:g/2,strokeWidth:p,box:o};return l(l({},e),b)},ee=function(e){var t=e.r_x,n=e.r_y,r=e.r_width,a=e.r_height,i=e.r_strokeWidth,o=e.absolutes,u=o.width,s=o.height,d=t*u,c=n*s,f=r*u,h=a*s,p=i*Math.min(f,h)/2,m=f-p,g=h-p,b={x:d,y:c,width:m,height:g,offsetX:m/2,offsetY:g/2,strokeWidth:p,box:o};return l(l({},e),b)},te=function(e){var t=e.r_x,n=e.r_y,r=e.r_width,a=e.r_height,i=e.absolutes,o=i.width,u=i.height,s=r*o,d=a*u,c={x:t*o,y:n*u,width:s,height:d,offsetX:s/2,offsetY:d/2,box:i};return l(l({},e),c)},ne=require("react-konva").Group,re=function(e){var t=e.contentObject,r=e.contentIDs,a=e.box,i=e.canvasRef,o=e.handleClick,u=e.handleDrag;e.id;var s=Q({canvasRef:i}),d=a.width,f=a.height,h=Math.min(d,f),p=a.x||0,m=a.y||0,g={width:h,height:h},b={x:(d-h)/2+p,y:(f-h)/2+m},x=r.map((function(e){var r=null==e?void 0:e.split("_")[0],a=t[e];switch(r){case"eye":var d=Z(l(l({},a),{absolutes:g})),f=c(l(l({},d),{focalPoint:{x:s.x-b.x,y:s.y-b.y}}));return n.default.createElement(z,l({key:e,id:e},d,{innerXY:f,handleDrag:u,handleClick:o}));case"rect":var h=$(l(l({},a),{absolutes:g}));return n.default.createElement(C,l({key:e,id:e},h,{handleDrag:u,handleClick:o}));case"image":var p=ee(l(l({},a),{absolutes:g}));return console.log(p),n.default.createElement(B,l({key:e,id:e},p,{handleDrag:u,handleClick:o}));case"text":var m=te(l(l({},a),{absolutes:g}));return n.default.createElement(K,l({key:e,id:e},m,{handleDrag:u,handleClick:o,canvasRef:i}));default:return null}}));return n.default.createElement(ne,l({},b),x)},ae={opacity:{inputType:"number",label:"Opacity",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},r_x:{inputType:"number",label:"X",scaleCenter:-.5,scaleFactor:100,min:-100,max:100,step:1},r_y:{inputType:"number",label:"Y",scaleCenter:-.5,scaleFactor:100,min:-100,max:100,step:1},r_width:{inputType:"number",label:"Width",scaleCenter:0,scaleFactor:100,min:0,max:200,step:1},r_height:{inputType:"number",label:"Height",scaleCenter:0,scaleFactor:100,min:0,max:200,step:1},rotation:{inputType:"number",label:"Rotation",scaleCenter:0,scaleFactor:1,min:-180,max:180,step:1},r_strokeWidth:{inputType:"number",label:"StrokeWidth",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},r_outerSize:{inputType:"number",label:"Eye Size",scaleCenter:0,scaleFactor:200,min:0,max:100,step:1},r_outer2inner:{inputType:"number",label:"Inner Size",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},w2h:{inputType:"number",label:"W2H",scaleCenter:0,scaleFactor:100,min:40,max:160,step:1},r_innerStrokeWidth:{inputType:"number",label:"Inner StrokeWidth",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},r_outerStrokeWidth:{inputType:"number",label:"Outer StrokeWidth",scaleCenter:0,scaleFactor:100,min:0,max:100,step:1},innerRotation:{inputType:"number",label:"Inner Rotation",scaleCenter:0,scaleFactor:1,min:-180,max:180,step:1},outerRotation:{inputType:"number",label:"Outer Rotation",scaleCenter:0,scaleFactor:1,min:-180,max:180,step:1},movementFactor:{inputType:"number",label:"Movement Range",scaleCenter:0,scaleFactor:50,min:0,max:100,step:5},sensitivity:{inputType:"number",label:"Movement Sensitivity",scaleCenter:0,scaleFactor:50,min:0,max:100,step:5},strokeWidthFactor:{inputType:"number",label:"Outer StrokeWidth",scaleCenter:0,scaleFactor:200,min:0,max:40,step:1},fill:{inputType:"colorSwitch",label:"Fill",toggleId:"fillEnabled"},stroke:{inputType:"colorSwitch",label:"Stroke",toggleId:"strokeEnabled"},innerFill:{inputType:"colorSwitch",label:"InnerFill",toggleId:"innerFillEnabled"},outerFill:{inputType:"colorSwitch",label:"OuterFill",toggleId:"outerFillEnabled"},innerStroke:{inputType:"colorSwitch",label:"InnerStroke",toggleId:"innerStrokeEnabled"},outerStroke:{inputType:"colorSwitch",label:"OuterStroke",toggleId:"outerStrokeEnabled"},draggable:{inputType:"toggle",label:"Draggable"},fillEnabled:{inputType:"toggle",label:"Draggable"},strokeEnabled:{inputType:"toggle",label:"Draggable"},innerStrokeEnabled:{inputType:"toggle",label:"InnerStrokeEnabled"},outerStrokeEnabled:{inputType:"toggle",label:"OuterStrokeEnabled"},blink:{inputType:"toggle",label:"Blink"},animate:{inputType:"toggle",label:"Animate"},innerShape:{inputType:"selection",label:"InnerShape",items:["Circle","Rect"]},outerShape:{inputType:"selection",label:"OuterShape",items:["Circle","Rect"]},fontStyle:{inputType:"selection",label:"FontStyle",items:["normal","italic","bold","italic bold"]},fontFamily:{inputType:"selection",label:"FontFamily",items:["Open Sans","Roboto Condensed","Roboto Mono","Roboto","Ubuntu","Rubik","Bebas Neue","Lobster","Lobster Two","Comfortaa","Staatliches","Balsamiq Sans","Alfa Slab One","Righteous","Fredoka One","Concert One","Luckiest Guy","Poiret One","Sigmar One","Arima Madurai","Bangers","Playball","Monoton","Black Ops One","Audiowide","Gruppo","Bubblegum Sans","Chewy","Fredericka the Great","Cabin Sketch","Bungee Inline","Creepster","Love Ya Like A Sister","Wallpoet","Bungee Shade","Megrim","Unkempt","Codystar","Kranky","New Rocker","Sarina","Modak","Barrio","Tourney","Kavoon"]},align:{inputType:"selection",label:"Align",items:["left","center","right"]},verticalAlign:{inputType:"selection",label:"Vertical Align",items:["top","middle","bottom"]},src:{inputType:"text",label:"Image Url"},textContent:{inputType:"text",label:"Text Content"}},ie=["fill","stroke"],le=["r_x","r_y","r_width","r_height","rotation"],oe=["draggable"],ue={eye:["r_x","r_y","w2h","r_outerSize","r_outer2inner","r_innerStrokeWidth","r_outerStrokeWidth","innerRotation","outerRotation","sensitivity","movementFactor"],image:o(o([],le,!0),["r_strokeWidth"],!1),rect:o(o([],le,!0),["r_cornerRadius","r_strokeWidth"],!1),text:o(o([],le,!0),["strokeWidthFactor"],!1)},se={eye:["innerFill","innerStroke","outerFill","outerStroke"],image:ie,rect:ie,text:ie},de={eye:oe,image:oe,rect:oe,text:oe},ce={eye:["innerShape","outerShape"],image:[],rect:[],text:["fontStyle","fontFamily","align"]},fe={eye:[],image:["src"],rect:[],text:["textContent"]},he=function(t){var u=t.selectedID,c=t.contentObject,f=t.setContentObject,h=t.updateChangeLog,p=e.useState(!0),m=p[0],g=p[1];if(""===u)return null;var b=u.split("_")[0],x=c[u],y=function(e){var t,n,r=e.target.id,a=e.target.value;h(r,a),f(l(l({},c),((t={})[u]=l(l({},x),((n={})[r]=a,n)),t)))},v=function(e){var t,n,r=e.target.id,a=e.target.checked;h(r,a),f(l(l({},c),((t={})[u]=l(l({},x),((n={})[r]=a,n)),t)))},k=o(o(o(o(o([],ue[b],!0),se[b],!0),de[b],!0),ce[b],!0),fe[b],!0).map((function(e,t){var o=ae[e];if(!o)return null;var p=o.inputType,m=o.label,g=x[e];switch(p){case"number":var b=o.scaleCenter,k=o.scaleFactor,S=o.min,E=o.max,w=o.step;return n.default.createElement(a,{id:e,key:u+"-"+e,label:m,value:Math.round((g+b)*(k||1)),onChange:function(t){var n=t.target.value;!function(e,t){var n,r;h(e,t),f(l(l({},c),((n={})[u]=l(l({},x),((r={})[e]=Number(t),r)),n)))}(e,n/(k||1)-(b||0))},min:S,max:E,step:w});case"selection":var C=o.items;return n.default.createElement(i,{label:m,id:e,key:u+"-"+e,value:g,items:C||[],onChange:y});case"colorSwitch":var _=o.toggleId,F=x[_||""];return n.default.createElement(r,{id:e,key:u+"-"+e,label:m,toggleId:_||"",value:g,toggleValue:F,onChange:y,onToggle:v});case"text":return n.default.createElement(d,{label:m,id:e,key:u+"-"+e,value:g,onChange:y});case"toggle":return n.default.createElement(s,{id:e,key:u+"-"+e,label:m,value:g,onChange:v});default:return null}}));return n.default.createElement(n.default.Fragment,null,m?n.default.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr",width:500,padding:10,maxHeight:"100vh",overflow:"auto",gridGap:10}},k):null,n.default.createElement("button",{style:{position:"fixed",top:0,right:0},onClick:function(){return g(!m)}},"Toggle"))};require("konva").showWarnings=!1;var pe={innerXY:{x:0,y:0},innerRotation:0,outerRotation:0,w2h:1,sensitivity:1,movementFactor:1,innerShape:"Circle",outerShape:"Circle",innerFill:"#000000",outerFill:"#ffffff",innerStroke:"#000000",outerStroke:"#ffffff",disableClip:!1,innerStrokeEnabled:!0,innerFillEnabled:!0,outerStrokeEnabled:!0,outerFillEnabled:!0,r_outerSize:.05,r_outer2inner:.5,r_x:.5,r_y:.5,r_innerStrokeWidth:.1,r_outerStrokeWidth:.1},me={rotation:0,draggable:!1,cornerRadius:0,keepAspectRatio:!0,verticalAlign:"middle",horizontalAlign:"center",fillEnabled:!1,strokeEnabled:!1,fill:"#ffffff",stroke:"#000000",src:"",r_x:.5,r_y:.5,r_width:1,r_height:1,r_strokeWidth:.02},ge={rotation:0,fill:"#000000",stroke:"#000000",draggable:!1,cornerRadius:0,immediateXY:!0,strokeEnabled:!0,fillEnabled:!0,r_x:.5,r_y:.5,r_width:1,r_height:1,r_strokeWidth:.01},be={rotation:0,fill:"#000000",stroke:"#ffffff",textBoxFill:"#0000ff",textBoxStroke:"ff0000",align:"center",draggable:!1,cornerRadius:0,immediateXY:!0,strokeEnabled:!0,fillEnabled:!0,textBoxStrokeEnabled:!1,textBoxFillEnabled:!1,fontFamily:"helvetica",fontStyle:"normal",textContent:"Hello World",minLines:1,maxLines:10,strokeWidthFactor:.01,r_x:.5,r_y:.5,r_width:1,r_height:1};exports.AniamtedImage=B,exports.AnimatedCircle=T,exports.AnimatedRectangle=C,exports.AnimatedText=K,exports.Biscuit=re,exports.BiscuitBoard=function(t){var r=t.contentIDs,a=t.contentObject,i=b(),u=i.width,s=i.height,d=e.useRef(null),c=e.useRef(null),f=e.useState(""),h=f[0],p=f[1],m=e.useState(r),g=m[0];m[1];var x=e.useState(a),y=x[0],v=x[1],S=e.useState([]),E=S[0],w=S[1];y[h];return e.useEffect((function(){console.log(E)}),[E.length]),n.default.createElement(n.default.Fragment,null,n.default.createElement(k,{width:u,height:s,canvasRef:d},n.default.createElement(re,{box:{width:u,height:s},contentObject:y,contentIDs:g,canvasRef:d,handleClick:function(e){var t=e.target.attrs.id;p(t||"")},handleDrag:function(e){var t,n,r=e.target.attrs,a=r.id,i=r.x,u=r.y,s=r.box;if(p(a),c.current!=a)c.current=a;else{c.current="";var d=y[a],f=i/s.width,h=u/s.height,m=(new Date).getTime();if(m-((null===(n=E[E.length-1])||void 0===n?void 0:n.timeStamp)||0)>1e3)w(o(o([],E,!0),[{id:a,attr:"r_x",r_x:f,r_y:h,method:"drag",timeStamp:m}],!1));else{var g=o([],E,!0);g[g.length-1]={id:a,attr:"r_x",r_x:f,r_y:h,method:"drag",timeStamp:m},w(g)}v(l(l({},y),((t={})[a]=l(l({},d),{r_x:f,r_y:h}),t)))}},key:"b1",id:"b1"})),n.default.createElement("div",{style:{position:"absolute",left:0,top:0}},n.default.createElement(he,l({},{selectedID:h,contentObject:y,setContentObject:v,updateChangeLog:function(e,t,n){var r,a;void 0===n&&(n="input");var i=(new Date).getTime(),l=E.length?E[E.length-1]:{timeStamp:0,attr:null,id:null},u=l.timeStamp,s=l.attr,d=l.id;if(i-u>1e3||e!==s||h!==d)w(o(o([],E,!0),[(r={id:h,attr:e},r[e]=t,r.method=n,r.timeStamp=i,r)],!1));else{var c=o([],E,!0);c[c.length-1]=((a={id:h,attr:e})[e]=t,a.method=n,a.timeStamp=i,a),w(c)}}}))))},exports.Board=k,exports.ColorPickerSwitch=r,exports.Eye=z,exports.NumberInput=a,exports.SelectAttribute=i,exports.TextInput=d,exports.ToggleSwitch=s,exports.applyDefaults=function(e){switch(e.contentID.split("_")[0]){case"eye":return l(l({},pe),e);case"image":return l(l({},me),e);case"rect":return l(l({},ge),e);case"text":return l(l({},be),e);default:return null}},exports.buildEyeProps=Z,exports.buildImageProps=ee,exports.buildRectProps=$,exports.buildTextProps=te,exports.eyeDefaults=pe,exports.getAbsoluteSizing=function(e){var t=e.relatives,n=e.box,r=t.r_x,a=t.r_y,i=t.r_width,l=t.r_height,o=n.width,u=n.height;n.x,n.y;var s=i*o,d=l*u;return{x:r*o,y:a*u,width:s,height:d,offsetX:s/2,offsetY:d/2}},exports.getInnerPosition=c,exports.getRatio=f,exports.getRefElement=h,exports.getStageData=p,exports.imageDefaults=me,exports.isSSR=m,exports.rectDefaults=ge,exports.textDefaults=be,exports.useEventListener=g,exports.useInterval=J,exports.useStagePositions=Q,exports.useWindowSize=b;
//# sourceMappingURL=index.js.map
